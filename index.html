<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JudoKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="JudoKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">JudoKit Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/judopay/JudoKit"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">JudoKit Reference</a>
        <img id="carat" src="img/carat.png" />
        JudoKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/BillingCountryInputField.html">BillingCountryInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CardInputField.html">CardInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CardLogoView.html">CardLogoView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DateInputField.html">DateInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/HintLabel.html">HintLabel</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IssueNumberInputField.html">IssueNumberInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JudoKit.html">JudoKit</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JudoPayInputField.html">JudoPayInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JudoPayView.html">JudoPayView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JudoPayViewController.html">JudoPayViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JudoTheme.html">JudoTheme</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LoadingView.html">LoadingView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PayButton.html">PayButton</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PostCodeInputField.html">PostCodeInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SecurityInputField.html">SecurityInputField</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/_DSWebView.html">_DSWebView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CardLogoType.html">CardLogoType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DateFormat.html">DateFormat</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DateInputType.html">DateInputType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ISO8601Format.html">ISO8601Format</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/NSDate.html">NSDate</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/TransactionType.html">TransactionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIColor.html">UIColor</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit12drawCardAmexFT_T_">drawCardAmex()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit12drawCardCIDVFT_T_">drawCardCIDV()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit11drawCardCVCFT_T_">drawCardCVC()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit15drawCardMaestroFT_T_">drawCardMaestro()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit18drawCardMasterCardFT_T_">drawCardMasterCard()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit15drawCardUnknownFT_T_">drawCardUnknown()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F7JudoKit12drawCardVisaFT_T_">drawCardVisa()</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/JudoInputType.html">JudoInputType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/JudoPayInputDelegate.html">JudoPayInputDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://img.shields.io/cocoapods/v/JudoKit.svg"><img src="https://img.shields.io/cocoapods/v/JudoKit.svg" alt="CocoaPods Compatible"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg" alt="Carthage Compatible"></a>
<a href="http://http://cocoadocs.org/docsets/Judo"><img src="https://img.shields.io/cocoapods/l/JudoKit.svg" alt="License"></a>
<a href="http://http://cocoadocs.org/docsets/Judo"><img src="https://img.shields.io/cocoapods/p/JudoKit.svg" alt="Platform"></a>
<a href="http://twitter.com/JudoPayments"><img src="https://img.shields.io/badge/twitter-@JudoPayments-orange.svg" alt="Twitter"></a>
<a href="http://travis-ci.org/JudoPay/JudoKit"><img src="https://travis-ci.org/JudoPay/JudoKit.svg" alt="Build Status"></a></p>
<a href='#judokit_native_sdk_for_ios' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='judokit_native_sdk_for_ios'>judoKit Native SDK for iOS</h1>

<p>This is the official judo iOS SDK. It is built on top of basic frameworks (<a href="http://github.com/JudoPay/Judo-Swift">Judo</a>, <a href="https://github.com/judopay/judoshield">JudoShield</a>) combining them with additional tools to enable easy integration of payments into your app. It works for both Swift and Obj-C projects.</p>
<a href='#strong_due_to_industry_wide_security_updates_versions_below_5_5_1_of_this_sdk_will_no_longer_be_supported_after_1st_oct_2016_for_more_information_regarding_these_updates_please_read_our_blog_a_href_http_hub_judopay_com_pci31_security_updates_here_a_strong' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h5 id='strong_due_to_industry_wide_security_updates_versions_below_5_5_1_of_this_sdk_will_no_longer_be_supported_after_1st_oct_2016_for_more_information_regarding_these_updates_please_read_our_blog_a_href_http_hub_judopay_com_pci31_security_updates_here_a_strong'><strong>***Due to industry-wide security updates, versions below 5.5.1 of this SDK will no longer be supported after 1st Oct 2016. For more information regarding these updates, please read our blog <a href="http://hub.judopay.com/pci31-security-updates/">here</a>.</strong>***</h5>
<a href='#what_is_this_project_for' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='what_is_this_project_for'>What is this project for?</h3>

<p>judoKit is a framework for creating easy payments inside your app with <a href="https://www.judopay.com/">judoPay</a>. It contains an exhaustive toolbelt for everything to related to making payments.</p>
<a href='#integration' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='integration'>Integration</h2>
<a href='#sign_up_to_judo_39_s_platform' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='sign_up_to_judo_39_s_platform'>Sign up to judo&rsquo;s platform</h3>

<ul>
<li>To use judo&rsquo;s SDK, you&rsquo;ll need to <a href="https://www.judopay.com/signup">sign up</a> and get your app token.</li>
<li>the SDK has to be integrated in your project using one of the following methods:</li>
</ul>
<a href='#cocoapods' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='cocoapods'>CocoaPods</h4>

<p><a href="http://cocoapods.org">CocoaPods</a> is a dependency manager for Cocoa projects.</p>

<p>CocoaPods 0.39 supports Swift and embedded frameworks. You can install it with the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>gem install cocoapods
</code></pre>

<p>add judo to your <code>Podfile</code> to integrate it into your Xcode project:</p>
<pre class="highlight ruby"><code><span class="n">source</span> <span class="s1">'https://github.com/CocoaPods/Specs.git'</span>
<span class="n">platform</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s1">'8.0'</span>
<span class="n">use_frameworks!</span>

<span class="n">pod</span> <span class="s1">'JudoKit'</span><span class="p">,</span> <span class="s1">'~&gt; 6.0'</span>
</code></pre>

<p>Then, run the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>pod install
</code></pre>

<p>Please make sure to always <strong>use the newly generated <code>.xcworkspace</code></strong> file not not the projects <code>.xcodeproj</code> file</p>
<a href='#carthage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='carthage'>Carthage</h4>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> - decentralized dependency management.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>brew update
<span class="gp">$ </span>brew install carthage
</code></pre>

<ul>
<li>To integrate judo into your Xcode project using Carthage, specify it in your <code>Cartfile</code>:</li>
</ul>
<pre class="highlight plaintext"><code>github "JudoPay/JudoKit" &gt;= 6.0
</code></pre>

<ul>
<li>execute the following command in your project folder. This should clone the project and build the judoKit scheme.</li>
</ul>
<pre class="highlight shell"><code><span class="gp">$ </span>carthage bootstrap
</code></pre>

<ul>
<li>On your application targets’ “General” settings tab, in the “Embedded Binaries&quot; section, drag and drop <code>Judo.framework</code> and <code>JudoKit.framework</code> from the Carthage/Build folder and <code>JudoShield.framework</code> from the Carthage/Checkouts folder on disk.</li>
<li>On your application targets’ “Build Phases” settings tab, click the “+” icon and choose “New Run Script Phase”. Create a Run Script with the following contents:</li>
</ul>
<pre class="highlight shell"><code>/usr/local/bin/carthage copy-frameworks
</code></pre>

<p>and add the paths to the frameworks you want to use under “Input Files”, e.g.:</p>
<pre class="highlight plaintext"><code>$(SRCROOT)/Carthage/Build/iOS/JudoKit.framework
$(SRCROOT)/Carthage/Build/iOS/Judo.framework
$(SRCROOT)/Carthage/Checkouts/JudoShield/Framework/JudoShield.framework
</code></pre>
<a href='#manual_integration' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='manual_integration'>Manual integration</h3>

<p>You can integrate judo into your project manually if you prefer not to use dependency management.</p>
<a href='#adding_the_framework' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='adding_the_framework'>Adding the Framework</h4>

<ul>
<li>Add judoKit as a <a href="http://git-scm.com/docs/git-submodule">submodule</a> by opening the Terminal, changing into your project directory, and entering the following command:</li>
</ul>
<pre class="highlight shell"><code><span class="gp">$ </span>git submodule add https://github.com/JudoPay/JudoKit
</code></pre>

<ul>
<li>as judoKit has submodules you need to initialize them as well by cd-ing into the <code>JudoKit</code> folder and executing the following command:</li>
</ul>
<pre class="highlight shell"><code><span class="gp">$ </span><span class="nb">cd </span>JudoKit
<span class="gp">$ </span>git submodule update --init --recursive
</code></pre>

<ul>
<li>Open your project and select your application in the Project Navigator (blue project icon).</li>
<li>Drag and drop the <code>JudoKit.xcodeproj</code> project file inside the JudoKit folder into your project (just below the blue project icon inside Xcode).</li>
<li>Drag and drop the <code>Judo.xcodeproj</code> project file inside the JudoKit/Judo-Swift folder into your project (just below the blue project icon inside Xcode).</li>
<li>Navigate to the target configuration window and select the application target under the <q>Targets</q> heading in the sidebar.</li>
<li>In the tab bar at the top of that window, open the <q>General</q> panel.</li>
<li>Click on the &rsquo;+&rsquo; button in &lsquo;Embedded Binaries&rsquo; section.</li>
<li>Click on &#39;Add Other&hellip;&rsquo; and Navigate to the JudoKit/JudoShield/Framework Folder and add JudoShield.Framework.</li>
<li>Click on the same &rsquo;+&rsquo; button and add <code>JudoKit.framework</code> under the JudoKit project from the <code>Products</code> folder and <code>Judo.framework</code> from the Judo project under the <code>Products</code> folder <strong>make sure not to add the Judo.framework file from the JudoKit project, these two have to be from each of the projects product folder</strong>.</li>
<li>In the project navigator, click on the <code>+</code> button under the <q>Linked Frameworks and Libraries</q> section.</li>
<li>Select <code>Security.framework</code>, <code>CoreTelephony.framework</code> and <code>CoreLocation.framework</code> from the list presented.</li>
<li>Open the <q>Build Settings</q> panel.</li>
<li>Search for &#39;Framework Search Paths&rsquo; and add <code>$(PROJECT_DIR)/JudoKit/JudoShield/Framework</code>.</li>
<li>Search for &#39;Runpath Search Paths&rsquo; and make sure it contains &rsquo;@executable_path/Frameworks&rsquo;.</li>
</ul>
<a href='#further_setup' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='further_setup'>Further setup</h3>

<ul>
<li><p>Add <code>import JudoKit</code> to the top of the file where you want to use the SDK.</p></li>
<li><p>To instruct the SDK to communicate with the sandbox, include the following line  <code>JudoKit.sandboxed = true</code>. When you are ready to go live you can remove this line. We would recommend to put this in the method <code>didFinishLaunchingWithOptions</code> in your AppDelegate.</p></li>
<li><p>You can also set your key and secret here if you do not wish to include it in all subsequent calls <code>JudoKit.setToken(token:, secret:)</code>.</p></li>
</ul>
<a href='#examples' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='examples'>Examples</h3>
<a href='#token_and_secret' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='token_and_secret'>Token and Secret</h4>

<p>The token and secret are accessible from your judoPay account <a href="https://portal.judopay.com/Developer">here</a> after you have created an app, and you can either generate sandbox or live tokens. We recommend you to set this in your AppDelegate in the <code>didFinishLaunchingWithOptions</code> method.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">token</span> <span class="o">=</span> <span class="s">"a3xQdxP6iHdWg1zy"</span>
<span class="k">let</span> <span class="nv">secret</span> <span class="o">=</span> <span class="s">"2094c2f5484ba42557917aad2b2c2d294a35dddadb93de3c35d6910e6c461bfb"</span>

<span class="k">let</span> <span class="nv">myJudoKitSession</span> <span class="o">=</span> <span class="kt">JudoKit</span><span class="p">(</span><span class="nv">token</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span> <span class="nv">secret</span><span class="p">:</span> <span class="n">secret</span><span class="p">)</span>

</code></pre>

<p>For testing purposes, you should set the app into sandboxed mode by calling the function <code>sandboxed(value: Bool)</code> on <code>JudoKit</code>.</p>
<pre class="highlight swift"><code><span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">sandboxed</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre>

<p>When delivering your App to the App Store, make sure to remove the line.</p>
<a href='#make_a_simple_payment' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='make_a_simple_payment'>Make a simple payment</h4>
<pre class="highlight swift"><code><span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">payment</span><span class="p">(</span><span class="n">judoID</span><span class="p">,</span> <span class="nv">amount</span><span class="p">:</span> <span class="kt">Amount</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">currentCurrency</span><span class="p">),</span> <span class="nv">reference</span><span class="p">:</span> <span class="kt">Reference</span><span class="p">(</span><span class="nv">consumerRef</span><span class="p">:</span> <span class="s">"consumer reference"</span><span class="p">),</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
        <span class="c1">// if the user cancelled, this error is passed</span>
        <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kt">JudoError</span><span class="o">.</span><span class="kt">UserDidCancel</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="c1">// handle error</span>
        <span class="k">return</span> <span class="c1">// BAIL</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">resp</span> <span class="o">=</span> <span class="n">response</span><span class="p">,</span> <span class="n">transactionData</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
    <span class="c1">// handle successful transaction</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<a href='#make_a_simple_pre_authorization' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='make_a_simple_pre_authorization'>Make a simple pre-authorization</h4>
<pre class="highlight swift"><code><span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">preAuth</span><span class="p">(</span><span class="n">judoID</span><span class="p">,</span> <span class="nv">amount</span><span class="p">:</span> <span class="kt">Amount</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">currentCurrency</span><span class="p">),</span> <span class="nv">reference</span><span class="p">:</span> <span class="kt">Reference</span><span class="p">(</span><span class="nv">consumerRef</span><span class="p">:</span> <span class="s">"consumer reference"</span><span class="p">),</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
        <span class="c1">// if the user cancelled, this error is passed</span>
        <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kt">JudoError</span><span class="o">.</span><span class="kt">UserDidCancel</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="c1">// handle error</span>
        <span class="k">return</span> <span class="c1">// BAIL</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">resp</span> <span class="o">=</span> <span class="n">response</span><span class="p">,</span> <span class="n">transactionData</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
    <span class="c1">// handle successful transaction</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<a href='#register_a_card' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='register_a_card'>Register a card</h4>
<pre class="highlight swift"><code><span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">registerCard</span><span class="p">(</span><span class="n">judoID</span><span class="p">,</span> <span class="nv">amount</span><span class="p">:</span> <span class="kt">Amount</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="n">currentCurrency</span><span class="p">),</span> <span class="nv">reference</span><span class="p">:</span> <span class="kt">Reference</span><span class="p">(</span><span class="nv">consumerRef</span><span class="p">:</span> <span class="s">"payment reference"</span><span class="p">),</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
        <span class="c1">// if the user cancelled, this error is passed</span>
        <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kt">JudoError</span><span class="o">.</span><span class="kt">UserDidCancel</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="c1">// handle error</span>
        <span class="k">return</span> <span class="c1">// BAIL</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">resp</span> <span class="o">=</span> <span class="n">response</span><span class="p">,</span> <span class="n">transactionData</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
    <span class="c1">// handle successful transaction</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<a href='#make_a_repeat_payment' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='make_a_repeat_payment'>Make a repeat payment</h4>
<pre class="highlight swift"><code><span class="k">if</span> <span class="k">let</span> <span class="nv">cardDetails</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">cardDetails</span><span class="p">,</span> <span class="k">let</span> <span class="nv">payToken</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">paymentToken</span> <span class="p">{</span>
    <span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">tokenPayment</span><span class="p">(</span><span class="n">judoID</span><span class="p">,</span> <span class="nv">amount</span><span class="p">:</span> <span class="kt">Amount</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">currentCurrency</span><span class="p">),</span> <span class="nv">reference</span><span class="p">:</span> <span class="kt">Reference</span><span class="p">(</span><span class="nv">consumerRef</span><span class="p">:</span> <span class="s">"consumer reference"</span><span class="p">),</span> <span class="nv">cardDetails</span><span class="p">:</span> <span class="n">cardDetails</span><span class="p">,</span> <span class="nv">paymentToken</span><span class="p">:</span> <span class="n">payToken</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
            <span class="c1">// if the user cancelled, this error is passed</span>
            <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kt">JudoError</span><span class="o">.</span><span class="kt">UserDidCancel</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="c1">// handle error</span>
            <span class="k">return</span> <span class="c1">// BAIL</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">resp</span> <span class="o">=</span> <span class="n">response</span><span class="p">,</span> <span class="n">transactionData</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
            <span class="c1">// handle successful transaction</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no card details available</span>
<span class="p">}</span>
</code></pre>
<a href='#make_a_repeat_pre_authorization' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='make_a_repeat_pre_authorization'>Make a repeat pre-authorization</h4>
<pre class="highlight swift"><code><span class="k">if</span> <span class="k">let</span> <span class="nv">cardDetails</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">cardDetails</span><span class="p">,</span> <span class="k">let</span> <span class="nv">payToken</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">paymentToken</span> <span class="p">{</span>
    <span class="n">myJudoKitSession</span><span class="o">.</span><span class="nf">tokenPreAuth</span><span class="p">(</span><span class="n">judoID</span><span class="p">,</span> <span class="nv">amount</span><span class="p">:</span> <span class="kt">Amount</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">currentCurrency</span><span class="p">),</span> <span class="nv">reference</span><span class="p">:</span> <span class="kt">Reference</span><span class="p">(</span><span class="nv">consumerRef</span><span class="p">:</span> <span class="s">"consumer reference"</span><span class="p">),</span> <span class="nv">cardDetails</span><span class="p">:</span> <span class="n">cardDetails</span><span class="p">,</span> <span class="nv">paymentToken</span><span class="p">:</span> <span class="n">payToken</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
            <span class="c1">// if the user cancelled, this error is passed</span>
            <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kt">JudoError</span><span class="o">.</span><span class="kt">UserDidCancel</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="c1">// handle error</span>
            <span class="k">return</span> <span class="c1">// BAIL</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">resp</span> <span class="o">=</span> <span class="n">response</span><span class="p">,</span> <span class="n">transactionData</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
            <span class="c1">// handle successful transaction</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no card details available</span>
<span class="p">}</span>
</code></pre>
<a href='#card_acceptance_configuration' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='card_acceptance_configuration'>Card acceptance configuration</h2>

<p>judoKit is capable of detecting and accepting a huge array of Card Networks and Card lengths. Maestro as an example used to have cards with 19 digits while most cards have 16 digit card numbers. To be capable of using all kinds of cards, a <code>Card.Configuration</code> object defines a specific accepted card network and card length. This is used as shown below:</p>

<p>The default value for accepted networks are Visa and MasterCard cards with a length of 16 digits.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">defaultCardConfigurations</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Card</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">(</span><span class="o">.</span><span class="kt">Visa</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="kt">Card</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">(</span><span class="o">.</span><span class="kt">MasterCard</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
</code></pre>

<p>In case you want to add the capability of accepting AMEX you need to add this as following:</p>
<pre class="highlight swift"><code><span class="kt">JudoKit</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">acceptedCardNetworks</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Card</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">(</span><span class="o">.</span><span class="kt">Visa</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="kt">Card</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">(</span><span class="o">.</span><span class="kt">MasterCard</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="kt">Card</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">(</span><span class="o">.</span><span class="kt">AMEX</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
</code></pre>

<p>Any other card configuration that is available can be added for the UI to accept the card. <strong>BE AWARE</strong> you do need to configure your account with Judo Payments for any other Card Type payments to be processed successfully.</p>
<a href='#customizing_payments_page_theme' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='customizing_payments_page_theme'>Customizing payments page theme</h2>

<p><img src="http://judopay.github.io/JudoKit/ressources/lighttheme1.png" alt="lighttheme1" title="Light Theme Example Image">
<img src="http://judopay.github.io/JudoKit/ressources/lighttheme2.png" alt="lighttheme2" title="Light Theme Example Image">
<img src="http://judopay.github.io/JudoKit/ressources/darktheme2.png" alt="darktheme1" title="Dark Theme Example Image"></p>

<p>judoKit comes with our new customisable, stacked UI. Note that if you have implemented with our Objective-C repository, you will have to use this Swift framework in your Obj-C project to use the new customisable UI. To do this, replace the legacy &#39;judoPay&rsquo; implementation in your app with the &#39;judoKit&rsquo; implementation.</p>
<a href='#theme_class' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='theme_class'>Theme class</h3>

<p>The color declaration are not yet openly handled.</p>
<a href='#code_uicolor_judo_swift_code' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='code_uicolor_judo_swift_code'><code>UIColor+Judo.swift</code></h4>
<pre class="highlight plaintext"><code>func judoDarkGrayColor()
func judoInputFieldTextColor()
func judoLightGrayColor()
func judoInputFieldBorderColor()
func judoContentViewBackgroundColor()
func judoButtonColor()
func judoButtonTitleColor()
func judoLoadingBackgroundColor()
func judoRedColor()
func judoLoadingBlockViewColor()
func judoInputFieldBackgroundColor()
</code></pre>

<p>The following parameters can be accessed through <code>JudoKit.theme</code></p>
<pre class="highlight plaintext"><code>/// A tint color that is used to generate a theme for the judo payment form
public var tintColor: UIColor = UIColor(red: 30/255, green: 120/255, blue: 160/255, alpha: 1.0)

/// Set the address verification service to true to prompt the user to input his country and post code information
public var avsEnabled: Bool = false

/// a boolean indicating whether a security message should be shown below the input
public var showSecurityMessage: Bool = false

/// An array of accepted card configurations (card network and card number length)
public var acceptedCardNetworks: [Card.Configuration] = [Card.Configuration(.Visa, 16), Card.Configuration(.MasterCard, 16), Card.Configuration(.Maestro, 16)]


// MARK: Buttons

/// the title for the payment button
public var paymentButtonTitle = "Pay"
/// the title for the button when registering a card
public var registerCardButtonTitle = "Add card"
/// the title for the back button of the navigation controller
public var registerCardNavBarButtonTitle = "Add"
/// the title for the back button
public var backButtonTitle = "Back"


// MARK: Titles

/// the title for a payment
public var paymentTitle = "Payment"
/// the title for a card registration
public var registerCardTitle = "Add card"
/// the title for a refund
public var refundTitle = "Refund"
/// the title for an authentication
public var authenticationTitle = "Authentication"

// MARK: Loading

/// when a register card transaction is currently running
public var loadingIndicatorRegisterCardTitle = "Adding card..."
/// the title of the loading indicator during a transaction
public var loadingIndicatorProcessingTitle = "Processing payment..."
/// the title of the loading indicator during a redirect to a 3DS webview
public var redirecting3DSTitle = "Redirecting..."
/// the title of the loading indicator during the verification of the transaction
public var verifying3DSPaymentTitle = "Verifying payment"
/// the title of the loading indicator during the verification of the card registration
public var verifying3DSRegisterCardTitle = "Verifying card"

// MARK: Input fields

/// the height of the input fields
public var inputFieldHeight: CGFloat = 48

// MARK: Security message

/// the message that is shown below the input fields the ensure safety when entering card information
public var securityMessageString = "Your card details are encrypted using SSL before transmission to our secure payment service provider. They will not be stored on this device or on our servers."

/// the text size of the security message
public var securityMessageTextSize: CGFloat = 12

</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="https://judopay.com" target="_blank" rel="external">Alternative Payments</a>. All rights reserved. (Last updated: 2016-03-04)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.5.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
